# Используем официальный образ Golang
FROM golang:latest

# Создаем директорию для приложения внутри контейнера
RUN mkdir /app

# Копируем содержимое текущей директории в директорию /app внутри контейнера
ADD . /app

# Переходим в директорию /app
WORKDIR /app

# Собираем ваше приложение
RUN go build -o ./main ./cmd1/main.go

# Устанавливаем переменную окружения для порта (можно изменить на нужный порт)
ENV PORT=30000

# Ваше приложение будет слушать этот порт
EXPOSE $PORT

# Запускаем ваше приложение при запуске контейнера
CMD ["./main"]
